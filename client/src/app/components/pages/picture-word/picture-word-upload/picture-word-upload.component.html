<app-abstract-modal>
  <div header>
      Ajouter une paire mot-image en fournissant un mot et une photo
  </div>
  <div content id="content">
    <app-custom-input id="word-input" [(value)]="word">Mot à deviner</app-custom-input>
    <mat-form-field class="input" appearance="fill">
      <mat-label>Mode de dessin</mat-label>
      <mat-select [(value)]="drawMode">
        <mat-option *ngFor="let drawMode of drawModes" [value]="drawMode">
          {{drawMode}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field class="input" appearance="fill">
      <mat-label>Difficulté</mat-label>
      <mat-select [(value)]="difficulty">
        <mat-option *ngFor="let difficulty of difficulties" [value]="difficulty">
          {{difficulty}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <app-number-input class="input" min="1" max="255" [(numberValue)]="threshold">Threshold</app-number-input>



    <img [src]="imageString" [style.height.px]="size" [style.width.px]="size" [style.display]="displayPreview ? 'none' : 'block'" id="uploaded-image">

    <canvas #preview [width]="size" [height]="size" [style.display]="displayPreview ? 'block' : 'none'" id="preview-image"></canvas>

  </div>
  <div actions id="actions">
    <button id="btn-preview" mat-stroked-button (click)="togglePreview()">
  <mat-icon id="btn-image-icon">preview</mat-icon>
    </button>
 
    <button *ngIf="dialogRef.id !== 'drawing'" id="btn-image" mat-stroked-button (click)="openUpload()">
      <mat-icon id="btn-image-icon">image</mat-icon>
    </button>
    <label #uploadLabel for="upload-input" id="btn-image-label"></label>
    <input (change)="acceptFile($event.target.files)" type="file" id="upload-input" accept="image/png, image/jpeg"/>

    <button mat-stroked-button (click)="save()">
      Enregistrer
    </button>

    <button id="btn-confirm" mat-stroked-button (click)="exit()" [disabled]="!dataUploaded">
      Terminer
    </button>
  </div>

</app-abstract-modal>